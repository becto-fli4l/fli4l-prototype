# $Id: rrd-soekris-net5501.inc 51847 2018-03-06 14:55:07Z kristov $
# Do not edit! This file is automaticly generated by rrd-graph.xsl

soekris_net5501_temp_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/sensors-pc87366-isa-6620/temperature-temp3.rrd ]
    then
        max_label=$(printf "%-11.11s" "${_MN_rrd_max}")
        avg_label=$(printf "%-11.11s" "${_MN_rrd_avg}")
        min_label=$(printf "%-11.11s" "${_MN_rrd_min}")
        last_label=$(printf "%-11.11s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_HWSUPP_RC_CPU}")
        /usr/bin/rrdtool graph /srv/www/img/rrd/soekris_net5501-temp-$last_x.png --title "Soekris ${_HWSUPP_RT_TEMP} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="Soekris ${_HWSUPP_RT_TEMP}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_HWSUPP_RL_TEMP}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/sensors-pc87366-isa-6620/temperature-temp3.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#FF0000:"${var1_label}\t\g" \
            GPRINT:var1_max:"%.1lf\t\t\g" \
            GPRINT:var1_avg:"%.1lf\t\t\g" \
            GPRINT:var1_min:"%.1lf\t\t\g" \
            GPRINT:var1_last:"%.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for Soekris ${_HWSUPP_RT_TEMP}"
    fi
}

soekris_net5501_voltage_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in1.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in2.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in3.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in4.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in5.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in7.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in8.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in9.rrd -a \
         -f $rrd_dbpath/sensors-pc87366-isa-6620/voltage-in10.rrd ]
    then
        max_label=$(printf "%-11.11s" "${_MN_rrd_max}")
        avg_label=$(printf "%-11.11s" "${_MN_rrd_avg}")
        min_label=$(printf "%-11.11s" "${_MN_rrd_min}")
        last_label=$(printf "%-11.11s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_HWSUPP_RC_VCORE}")
        var2_label=$(printf "%-15.15s" "${_HWSUPP_RC_VCC}")
        var3_label=$(printf "%-15.15s" "${_HWSUPP_RC_VPWR}")
        var4_label=$(printf "%-15.15s" "${_HWSUPP_RC_V12}")
        var5_label=$(printf "%-15.15s" "${_HWSUPP_RC_V12M}")
        var6_label=$(printf "%-15.15s" "Vsb")
        var7_label=$(printf "%-15.15s" "Vdd")
        var8_label=$(printf "%-15.15s" "${_HWSUPP_RC_VBAT}")
        var9_label=$(printf "%-15.15s" "AVdd")
        /usr/bin/rrdtool graph /srv/www/img/rrd/soekris_net5501-voltage-$last_x.png --title "Soekris ${_HWSUPP_RT_VOLTAGE} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="Soekris ${_HWSUPP_RT_VOLTAGE}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_HWSUPP_RL_VOLTAGE}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in1.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in2.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in3.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in4.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in5.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in7.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in8.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in9.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/sensors-pc87366-isa-6620/voltage-in10.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#FF0000:"${var1_label}\t\g" \
            GPRINT:var1_max:"%.2lf\t\t\g" \
            GPRINT:var1_avg:"%.2lf\t\t\g" \
            GPRINT:var1_min:"%.2lf\t\t\g" \
            GPRINT:var1_last:"%.2lf\l" \
            LINE1:var2#FFFF00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%.2lf\t\t\g" \
            GPRINT:var2_avg:"%.2lf\t\t\g" \
            GPRINT:var2_min:"%.2lf\t\t\g" \
            GPRINT:var2_last:"%.2lf\l" \
            LINE1:var3#00FF00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%.2lf\t\t\g" \
            GPRINT:var3_avg:"%.2lf\t\t\g" \
            GPRINT:var3_min:"%.2lf\t\t\g" \
            GPRINT:var3_last:"%.2lf\l" \
            LINE1:var4#0000FF:"${var4_label}\t\g" \
            GPRINT:var4_max:"%.2lf\t\t\g" \
            GPRINT:var4_avg:"%.2lf\t\t\g" \
            GPRINT:var4_min:"%.2lf\t\t\g" \
            GPRINT:var4_last:"%.2lf\l" \
            LINE1:var5#FF00FF:"${var5_label}\t\g" \
            GPRINT:var5_max:"%.2lf\t\t\g" \
            GPRINT:var5_avg:"%.2lf\t\t\g" \
            GPRINT:var5_min:"%.2lf\t\t\g" \
            GPRINT:var5_last:"%.2lf\l" \
            LINE1:var6#00FFFF:"${var6_label}\t\g" \
            GPRINT:var6_max:"%.2lf\t\t\g" \
            GPRINT:var6_avg:"%.2lf\t\t\g" \
            GPRINT:var6_min:"%.2lf\t\t\g" \
            GPRINT:var6_last:"%.2lf\l" \
            LINE1:var7#990000:"${var7_label}\t\g" \
            GPRINT:var7_max:"%.2lf\t\t\g" \
            GPRINT:var7_avg:"%.2lf\t\t\g" \
            GPRINT:var7_min:"%.2lf\t\t\g" \
            GPRINT:var7_last:"%.2lf\l" \
            LINE1:var8#999900:"${var8_label}\t\g" \
            GPRINT:var8_max:"%.2lf\t\t\g" \
            GPRINT:var8_avg:"%.2lf\t\t\g" \
            GPRINT:var8_min:"%.2lf\t\t\g" \
            GPRINT:var8_last:"%.2lf\l" \
            LINE1:var9#009900:"${var9_label}\t\g" \
            GPRINT:var9_max:"%.2lf\t\t\g" \
            GPRINT:var9_avg:"%.2lf\t\t\g" \
            GPRINT:var9_min:"%.2lf\t\t\g" \
            GPRINT:var9_last:"%.2lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for Soekris ${_HWSUPP_RT_VOLTAGE}"
    fi
}

soekris_net5501_frequency_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/cpufreq/cpufreq-0.rrd ]
    then
        max_label=$(printf "%-11.11s" "${_MN_rrd_max}")
        avg_label=$(printf "%-11.11s" "${_MN_rrd_avg}")
        min_label=$(printf "%-11.11s" "${_MN_rrd_min}")
        last_label=$(printf "%-11.11s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_HWSUPP_RC_CPU} 0")
        /usr/bin/rrdtool graph /srv/www/img/rrd/soekris_net5501-frequency-$last_x.png --title "Soekris ${_HWSUPP_RT_FREQUENCY} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="Soekris ${_HWSUPP_RT_FREQUENCY}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_HWSUPP_RL_FREQUENCY}" \
            --units-exponent 0 \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1_1=${rrd_dbpath}/cpufreq/cpufreq-0.rrd:value:AVERAGE \
            CDEF:var1=var1_1,1000000,/ \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#FF0000:"${var1_label}\t\g" \
            GPRINT:var1_max:"%.1lf\t\t\g" \
            GPRINT:var1_avg:"%.1lf\t\t\g" \
            GPRINT:var1_min:"%.1lf\t\t\g" \
            GPRINT:var1_last:"%.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for Soekris ${_HWSUPP_RT_FREQUENCY}"
    fi
}

# _oOo_
