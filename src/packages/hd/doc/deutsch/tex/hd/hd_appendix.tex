% Last Update: $Id: hd_appendix.tex 43053 2015-11-27 11:41:37Z cspiess $
\marklabel{sec:hd-errors}
{
  \section{HD - Fehler im Zusammenhang mit Festplatten/CompactFlashs}
}    
    \textbf{Problem:}

    \begin{itemize}
    \item der Router erkennt die Festplatte überhaupt nicht.
    \end{itemize}

    Mögliche Ursachen:

    \begin{itemize}
    \item über \var{OPT\_\-HDDRV} müssen eventuell zusätzliche Treiber 
      für den HD-Controller definiert werden
    \item Platte ist falsch im BIOS eingetragen
    \item der Controller ist defekt oder abgeschaltet
    \item es wird bei der Installation die falsche Platte angegeben
    \item der Controller wird nicht von fli4l unterstützt. Manche
      Controller benötigen spezielle Treiber, die in fli4l 
      nicht enthalten sind
    \end{itemize}

    \textbf{Problem:}
    \begin{itemize}
    \item die Installation bricht ab
    \item nach einem Remote-Update des opt-Archives bootet der Router nicht
      mehr
    \item es gibt Fehlermeldungen beim Partitionieren oder Formatieren
      der Festplatte
    \end{itemize}

    Mögliche Ursachen:
    \begin{itemize}
    \item bei IDE-Festplatten könnte es an zu langen oder
      ungeeigneten IDE-Kabeln liegen
    \item bei älteren Festplatten ist die Einstellung der
      Transferrate/PIO-Mode im Bios oder auf dem Controler evtl. zu
      schnell für die Platte.
    \item ungeeigneter Chipsatz
    \end{itemize}

    Bemerkungen:
    \begin{itemize}
    \item bei Problemen mit den DMA-Einstellungen kann man versuchen im Paket 
      base die Einstellung \verb*?LIBATA_NODMA='no'? zu setzen. (Der Standardwert
      ist hier 'yes'). Dies aktiviert DMA-Zugriffe an ATA Geräten.
    \end{itemize}

    \textbf{Problem:}
    \begin{itemize}
    \item nach der Installation bootet fli4l nicht von Festplatte
    \end{itemize}
    
    Mögliche Ursache:
    \begin{itemize}
    \item wenn der Bootvorgang von einem CF-Modul fehlschlägt sollte man prüfen
    ob das CF-Modul im Bios mit LBA oder LARGE erkannt wurde. Die richtige 
    Einstellung für Module unter 512MB ist NORMAL oder CHS.
    \item es wird ein Adaptec 2940 Controller mit altem BIOS eingesetzt und das 
    erweiterte Mapping für Festplatten über 1GB ist aktiv. Als Abhilfe kann man 
    das BIOS des SCSI-Controllers aktualisieren oder das Mapping umschalten.
    \achtung{Beim Umschalten des Mappings gehen alle Daten auf der Platte verloren!}
    \end{itemize}

    \textbf{Problem:}
    \begin{itemize}
    \item Windows sagt während des Erstellens einer CF-Card: \glqq{}Medium im Laufwerk
      (X:) besitzt kein FAT. [Abbruch]\grqq{}.
    \end{itemize}

    Mögliche Ursache:
    \begin{itemize}
    \item Die Compactflash wurde zu früh / ohne Abmeldung aus dem Reader entfernt.
    Windows hatte den letzten Schreibvorgang noch nicht abgeschlossen, das
    Dateisystem ist nun beschädigt. Erstelle die CompactFlash nochmals
    direkt am fli4l mittels HD-Install.
    \end{itemize}
